@using SignalRMVCChat.DependencyInjection
@using SignalRMVCChat.Service
@model SignalRMVCChat.Areas.Email.Controllers.SendEmailViewModel

<style>
    input {
        direction: ltr;
    }
</style>
@{
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";

    ViewBag.Title = "ارسال ایمیل";

}




<div>

    <h4>@ViewBag.Title</h4>

    <form method="post" action="/email/SendEmail/SendEmail">
        <div class="col-md-12">
            <div class="col-md-4">
                @Html.Partial("SelectTemplate")
            </div>
            <div class="col-md-8">

                @Html.Partial("Users")
            </div>

        </div>
        <div class="col-md-12">

            <button id="sendEmailbyTemplateSubmit" type="submit" class="btn btn-info">ثبت</button>
        </div>


    </form>







</div>


@section scripts{


    <link rel="stylesheet" href="~/Content/Tablesjs/Tablesjs.css" />
    <script type="text/javascript" src="~/Content/Tablesjs/TablesJs.js"></script>
    <script type="text/javascript" src="~/Content/Tablesjs/tableJsSelect.js"></script>
    <script>
        let table;
        $(document).ready(function () {
            table = $('#example').DataTable({
                responsive: true,
                'columnDefs': [{
                    'targets': 0,
                    'searchable': false,
                    'orderable': false,
                    'render': function (data, type, full, meta) {
                        console.log('data:', data)
                        console.log('type:', type)
                        console.log('full:', full)
                        return `<input name="list" value="${data}" type="checkbox" />`;
                    }
                }],
                select: {
                    style: 'os',
                    selector: 'td:first-child'
                },
                order: [[1, 'asc']],
                "language": {
                    "lengthMenu": "نمایش _MENU_ در هر صفحه",
                    "zeroRecords": "هیچ رکوردی یافت نشد",
                    "info": "نمایش _PAGE_ از کل  _PAGES_",
                    "infoEmpty": "هیچ رکوردی یافت نشد",
                    "infoFiltered": "(فیلتر شده از  _MAX_ کل رکورد ها )",

                    processing: "Traitement en cours...",
                    search: "جستجو&nbsp;:",
                    paginate: {
                        first: "ابتدا",
                        previous: "قبلی",
                        next: "بعدی",
                        last: "آخرین"
                    },
                }
            });
        });
    </script>
}